<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cells</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: black;
    }
    
  </style>
  <script src="../inc/p5.js"></script>
  <script src="inc/dat.gui/dat.gui.js"></script>
  <script src="sketch.js"></script>
</head>

<body>
  <main>
    <script>
      var obj = {
        n_StartSites: nStartSites,
        n_MaxSites: nMaxSites,
        MoveSpeed: speed,
        n_SampleInterval: sampleInterval,

        b_addOnBounce: addOnBounce,
        b_UseMouse: bUseMouse,
        b_AnimateNewSites: bAnimateNewSites,

        b_DrawSites: bDrawSites,
        b_DrawOldEdges: bDrawOldEdges,

        reset: function () {
          nStartSites     = this.n_StartSites;
          nMaxSites       = this.n_MaxSites;
          speed           = this.MoveSpeed;
          sampleInterval  = this.n_SampleInterval;
          addOnBounce     = this.b_addOnBounce;
          bUseMouse       = this.b_UseMouse;
          bDrawSites      = this.b_DrawSites;
          init();
        },


        type: 'three',

        color0: "#ffae23", // CSS string
        color1: [ 0, 128, 255 ], // RGB array
        color2: [ 0, 128, 255, 0.3 ], // RGB with alpha
        color3: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value
    };

    var gui = new dat.gui.GUI();

    gui.remember(obj);

    gui.add(obj, 'n_StartSites');
    gui.add(obj, 'n_MaxSites');
    gui.add(obj, 'MoveSpeed').min(0).max(20).step(0.25).listen().onFinishChange(
      function(){
        console.log(this.getValue() + " " + speed);
        speed = this.getValue();
        updateSpeed();
      }
    );
    gui.add(obj, 'n_SampleInterval').min(1).max(600).step(0.25).listen().onFinishChange(
      function(){
        sampleInterval = this.getValue();
      }
    );
    gui.add(obj, 'b_addOnBounce').listen().onChange(
      function(){
        addOnBounce = this.getValue();
      }
    );
    gui.add(obj, 'b_UseMouse').listen().onChange(
      function(){
        bUseMouse = this.getValue();
      }
    );
    gui.add(obj, 'b_AnimateNewSites').listen().onChange(
      function(){
        bAnimateNewSites = this.getValue();
        console.log(bAnimateNewSites);
      }
    );
    gui.add(obj, 'b_DrawSites').listen().onChange(
      function(){
        bDrawSites = this.getValue();
      }
    );

    gui.add(obj, 'b_DrawOldEdges').listen().onChange(
      function(){
        bDrawOldEdges = this.getValue();
      }
    );

    gui.add(obj, 'reset');


    // Choose from accepted values
    gui.add(obj, 'type', [ 'one', 'two', 'three' ] );

    var f1 = gui.addFolder('Colors');
    f1.addColor(obj, 'color0');
    f1.addColor(obj, 'color1');
    f1.addColor(obj, 'color2');
    f1.addColor(obj, 'color3');

    </script>
  </main>
</body>

</html>